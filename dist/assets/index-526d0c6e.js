import{_ as v,o as a,n as c,m as s,d as h,c as g,t as l,l as n,Q as I,k as u,w as C,q as N,P as $,p as w,u as x,e as y,r as T,R as p,b as _,j as B}from"./index-6e4cb065.js";import{u as b,M}from"./MainLayout-d9039cb6.js";const R={},V={width:"15",height:"15",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function E(d,e){return a(),c("svg",V,e[0]||(e[0]=[s("path",{id:"Vector",d:"M21 1L1 21M1 1L21 21",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const S=v(R,[["render",E]]),j={key:0,class:"notification"},L={class:"notification__wrapper"},U=h({__name:"Notification",props:{chatTitle:{},isInviteRoom:{type:Boolean}},emits:["enterChat","closeNotification"],setup(d){const{t:e}=g({useScope:"global"});return(t,o)=>t.isInviteRoom?(a(),c("div",j,[s("div",L,[s("p",null,l(n(e)("inviteToChat"))+' "'+l(t.chatTitle)+'"',1),s("button",{onClick:o[0]||(o[0]=I(r=>t.$emit("closeNotification"),["prevent"])),class:"notification__close"},[u(S)])]),u(n($),{class:"mt-5","is-rounded-lg":!0,color:"primary",onClick:o[1]||(o[1]=r=>t.$emit("enterChat"))},{default:C(()=>[N(l(n(e)("signIn")),1)]),_:1})])):w("",!0)}}),q=v(U,[["__scopeId","data-v-f24630d8"]]),D={class:"min-h-screen flex justify-center items-center"},K={key:0,c:""},G=h({__name:"Chats",setup(d){x();const e=y(!1),t=T({title:"",uuid:"",userUuid:!1,roomId:null}),o=()=>e.value=!1;p.emit("personalInvite",_.get("uuid")),p.on("messageInvite",async(m,i,f,k)=>{t.title=i,t.uuid=m,t.roomId=k,t.userUuid=f===_.get("uuid"),t.title&&t.uuid&&t.userUuid&&(e.value=!0,setTimeout(()=>e.value=!1,5e3))});const{enterChat:r,closeChat:O,showChats:P,uuid:Q,room:z}=b();return(m,i)=>(a(),B(n(M),null,{default:C(()=>[s("div",D,[i[1]||(i[1]=s("div",{class:"text-white rounded-md p-1 text-1xl bg-black"},"Выберите чат",-1)),e.value?(a(),c("div",K,[u(n(q),{"is-invite-room":e.value,chatTitle:t.title,onEnterChat:i[0]||(i[0]=f=>n(r)(t.uuid,t.title,t.roomId,o)),onCloseNotification:o},null,8,["is-invite-room","chatTitle"])])):w("",!0)])]),_:1}))}});export{G as default};
